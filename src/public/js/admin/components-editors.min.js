var ComponentsEditors = function() {
    var t = function() {
            jQuery().wysihtml5 && $(".wysihtml5").size() > 0 && $(".wysihtml5").wysihtml5({
                stylesheets: ["../assets/global/plugins/bootstrap-wysihtml5/wysiwyg-color.css"]
            })
        },
        s = function() {
            $("#summernote_1").summernote({
                height: 300,
                 onImageUpload: function(files, editor, $editable) {
                    sendFile(files[0],editor,$editable);
                 }  
                })
                function sendFile(file, editor, welEditable) {
                    data = new FormData();
                    data.append("file", file);
                    $.ajax({
                        url: "/campaigns/uploader",
                        data: data,
                        cache: false,
                        contentType: false,
                        processData: false,
                        type: 'POST',
                        success: function(data) {
                            $('#summernote_1').summernote('editor.insertImage', data);
                        },
                        error: function(jqXHR, textStatus, errorThrown) {
                            console.log(textStatus + " " + errorThrown);
                        }
                    });
             }
        };
    return {
        init: function() {
            t(), s()
        }
    }
}();
jQuery(document).ready(function() {
    ComponentsEditors.init()
});